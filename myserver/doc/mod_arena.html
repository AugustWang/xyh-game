<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset= UTF-8">
<title>Module mod_arena</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module mod_arena</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>竞技场.

<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>
<p><b>Authors:</b> Rolong (<a href="mailto:rolong@vip.qq.com"><tt>rolong@vip.qq.com</tt></a>).</p>

<h2><a name="description">Description</a></h2>竞技场
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#add_arena_exp-2">add_arena_exp/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#arena_init-1">arena_init/1</a></td><td>竞技场固定数据隔天重置.</td></tr>
<tr><td valign="top"><a href="#arena_stores-1">arena_stores/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#code_change-3">code_change/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#db_init-1">db_init/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#db_init2-1">db_init2/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#db_update-1">db_update/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#fix_arena_pos-1">fix_arena_pos/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_data-1">get_data/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_rank_pos-2">get_rank_pos/2</a></td><td>获得排名位置（注意：当返回0时表示没有上榜）.</td></tr>
<tr><td valign="top"><a href="#get_team1-1">get_team1/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_team2-1">get_team2/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_call-3">handle_call/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_cast-2">handle_cast/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_info-2">handle_info/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#import_robot-0">import_robot/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#init-1">init/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#set_data-4">set_data/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#start_link-0">start_link/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#terminate-2">terminate/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#unzip-1">unzip/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#unzip2-1">unzip2/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#unzip_heroes-1">unzip_heroes/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#update_arena_state-2">update_arena_state/2</a></td><td>更新战斗击败状态.</td></tr>
<tr><td valign="top"><a href="#update_rank-0">update_rank/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#zip-1">zip/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#zip2-1">zip2/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#zip_heroes-1">zip_heroes/1</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="add_arena_exp-2">add_arena_exp/2</a></h3>
<div class="spec">
<p><tt>add_arena_exp(AddExp, Rs) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="arena_init-1">arena_init/1</a></h3>
<div class="spec">
<p><tt>arena_init(Rs) -&gt; {ok, Rs}</tt>
<ul class="definitions"><li><tt>Rs = #role{}</tt></li></ul></p>
</div><p>竞技场固定数据隔天重置</p>

<h3 class="function"><a name="arena_stores-1">arena_stores/1</a></h3>
<div class="spec">
<p><tt>arena_stores(Rs) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="code_change-3">code_change/3</a></h3>
<div class="spec">
<p><tt>code_change(OldVsn, State, Extra) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="db_init-1">db_init/1</a></h3>
<div class="spec">
<p><tt>db_init(Rs) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="db_init2-1">db_init2/1</a></h3>
<div class="spec">
<p><tt>db_init2(Rs) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="db_update-1">db_update/1</a></h3>
<div class="spec">
<p><tt>db_update(Rs) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="fix_arena_pos-1">fix_arena_pos/1</a></h3>
<div class="spec">
<p><tt>fix_arena_pos(Heroes) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="get_data-1">get_data/1</a></h3>
<div class="spec">
<p><tt>get_data(Id) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="get_rank_pos-2">get_rank_pos/2</a></h3>
<div class="spec">
<p><tt>get_rank_pos(Rid, Lev) -&gt; MyRank</tt>
<ul class="definitions"><li><tt>Rid = integer()</tt></li><li><tt>Lev = integer()</tt></li><li><tt>MyRank = integer()</tt></li></ul></p>
</div><p>获得排名位置（注意：当返回0时表示没有上榜）</p>

<h3 class="function"><a name="get_team1-1">get_team1/1</a></h3>
<div class="spec">
<p><tt>get_team1(ArenaId) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="get_team2-1">get_team2/1</a></h3>
<div class="spec">
<p><tt>get_team2(ArenaId) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_call-3">handle_call/3</a></h3>
<div class="spec">
<p><tt>handle_call(Request, From, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_cast-2">handle_cast/2</a></h3>
<div class="spec">
<p><tt>handle_cast(Msg, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_info-2">handle_info/2</a></h3>
<div class="spec">
<p><tt>handle_info(Info, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="import_robot-0">import_robot/0</a></h3>
<div class="spec">
<p><tt>import_robot() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="init-1">init/1</a></h3>
<div class="spec">
<p><tt>init(X1) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="set_data-4">set_data/4</a></h3>
<div class="spec">
<p><tt>set_data(Rs, Lev, Exp, Heroes) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="start_link-0">start_link/0</a></h3>
<div class="spec">
<p><tt>start_link() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="terminate-2">terminate/2</a></h3>
<div class="spec">
<p><tt>terminate(Reason, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="unzip-1">unzip/1</a></h3>
<div class="spec">
<p><tt>unzip(Bin) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="unzip2-1">unzip2/1</a></h3>
<div class="spec">
<p><tt>unzip2(Bin) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="unzip_heroes-1">unzip_heroes/1</a></h3>
<div class="spec">
<p><tt>unzip_heroes(Bin) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="update_arena_state-2">update_arena_state/2</a></h3>
<div class="spec">
<p><tt>update_arena_state(Name, Rs) -&gt; Rs1</tt>
<ul class="definitions"><li><tt>Name = string()</tt></li><li><tt>Rs = #role{}</tt></li><li><tt>Rs1 = #role{}</tt></li></ul></p>
</div><p>更新战斗击败状态</p>

<h3 class="function"><a name="update_rank-0">update_rank/0</a></h3>
<div class="spec">
<p><tt>update_rank() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="zip-1">zip/1</a></h3>
<div class="spec">
<p><tt>zip(L) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="zip2-1">zip2/1</a></h3>
<div class="spec">
<p><tt>zip2(L) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="zip_heroes-1">zip_heroes/1</a></h3>
<div class="spec">
<p><tt>zip_heroes(Heroes) -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Dec 28 2013, 11:58:20.</i></p>
</body>
</html>
